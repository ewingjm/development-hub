name: $(GITVERSION_FullSemVer)
pool:
  vmImage: 'windows-latest'
trigger: none
stages:
  - template: templates/include-build-and-test-stage.yml
  - template: templates/include-solution-checker-stage.yml
    parameters:
      environment: 'test'
      serviceConnection: 'Development Hub - Test (adminuser)'
  - template: templates/include-reset-environment-stage.yml
    parameters:
      environment: 'test'
      serviceConnection: 'Development Hub - Test (adminuser)'
      environmentVariableGroup: 'Environment - Test'
  - template: templates/include-deploy-stage.yml
    parameters:
      environment: 'test'
      serviceConnection: 'Development Hub - Test (adminuser)'
  - template: templates/include-test-stage.yml
    parameters:
      environmentVariableGroup: 'Environment - Test'